var app=angular.module("MyApp.liftselectcontrol",["MyApp.services","ngStorage","ngCordova"]);app.controller("liftselectcontrol",["$scope","$ionicScrollDelegate","$ionicPlatform","$localStorage","localStore","$ionicPopup","$rootScope",function(t,e,o,n,a,i,r){t.liftData=n.liftData,t.matchedLifts=[],t.attr1Pressed=".",t.attr2Pressed=".",t.attr3Pressed=".",t.searchTextC="",t.selectLift={name:"Select Lift"},t.newLiftName={name:""},t.custom=!1,t.customLifts=[],t.removeFlagB=!1,t.liftForSettingsChange="",t.liftObjectForSettingsChange={},t.liftSelectorState="All Lifts",t.closeKeyboard=function(){document.activeElement.blur(),document.activeElement.blur()},t.showInfo=function(){if("heroku"==r.stateW){var e=new Date;winston.log("info",t.$storage.userId+", viewed liftselect info")}t.infoFlag=5;var o=i.show({title:"Lift select",scope:t,templateUrl:"pop/pop-maininfo.html",buttons:[{text:"<b>Done</b>",type:"button-dark",onTap:function(t){}}]});o.then(function(o){if("heroku"==r.stateW){var n=new Date-e;winston.log("info",t.$storage.userId+", closed liftselect after"+n)}})},t.liftDataRm=function(){return newList},t.changeSort=function(e,o){4!=e?t.liftObjectForSettingsChange["attr"+String(e)]=o:t.liftObjectForSettingsChange.weight=o},t.editSettings=function(e){t.liftForSettingsChange=e,angular.forEach(t.$storage.liftData,function(o,n){e==o.name&&(t.liftObjectForSettingsChange=o)});var o=i.show({templateUrl:"pop/pop-liftset.html",title:"Settings for lift",scope:t,buttons:[{text:"<b >Done</b>",type:"button-dark",onTap:function(t){}}]});o.then(function(t){})},t.listSort=function(o,n){e.scrollTop(),1==o?t.attr1Pressed=t.attr1Pressed==n?".":n:2==o?t.attr2Pressed=t.attr2Pressed==n?".":n:3==o&&(t.attr3Pressed=t.attr3Pressed==n?".":n),e.scrollTop()},t.filterCustom=function(o){t.reset(),t.liftSelectorState=t.custom?"All Lifts":"User Entered Lifts",o&&!t.custom?t.custom=!t.custom:o||(t.custom=!t.custom),e.scrollTop()},t.reset=function(){t.attr1Pressed=".",t.attr2Pressed=".",t.attr3Pressed=".",t.selected="."},t.watch=function(e){t.searchTextC=e},t.$on("reset-liftselect",function(){t.reset()}),t.isSelected=function(e){return t.selected===e},t.removeLiftEntry=function(e){t.removeFlag&&a.removeLiftEntry(e)},t.setLift=function(e,o){return t.removeFlagB?void a.removeLiftEntry(e.name):(t.selected=e,void t.closeModal(e,0,1))},t.backFrom=function(){t.closeModal("no change",0,1)},t.swipeLeftLift=function(){t.closeModal("",0,1)},t.addLift=function(){},t.goToUrl=function(t,e){var o=t.replace(/ /g,"+"),n="https://www.google.com/search?q="+o,a=window.open(n,"_blank","location=no");a.addEventListener("loaderror",function(t){alert("error: "+t.message),a.close()})},t.addLiftPopup=function(){var e=i.show({template:'<input type="text" ng-model="newLiftName.name" maxlength="30">',title:"Enter new lift name",subTitle:"Press 'View Added' Button to filter to your added lifts",scope:t,buttons:[{text:"Cancel"},{text:"<b>Add</b>",type:"button-dark",onTap:function(e){t.addLiftFlag=!t.addLiftFlag,""==t.newLiftName.name?e.preventDefault():(a.addLiftToList(t.newLiftName.name),t.newLiftName.name="",t.liftData=n.liftData,t.filterCustom(!0))}}]});e.then(function(e){t.addLiftFlag=!t.addLiftFlag})}}]);