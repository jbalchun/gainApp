var app=angular.module("MyApp.liftselectcontrol",["MyApp.services","ngStorage","ngCordova"]);app.controller("liftselectcontrol",["$scope","$ionicScrollDelegate","$ionicPlatform","$localStorage","$timeout","localStore","$ionicPopup","$rootScope",function(t,e,o,n,i,r,a,s){t.liftData=n.liftData,t.matchedLifts=[],t.attr1Pressed=".",t.attr2Pressed=".",t.attr3Pressed=".",t.searchTextC="",t.selectLift={name:"Select Lift"},t.newLiftName={name:""},t.custom=!1,t.customLifts=[],t.removeFlagB=!1,t.liftForSettingsChange="",t.liftObjectForSettingsChange={},t.liftSelectorState="All Lifts",t.closeKeyboard=function(){document.activeElement.blur(),document.activeElement.blur()},t.showInfo=function(){if("heroku"==s.stateW){var e=new Date;winston.log("info",t.$storage.userId+", viewed liftselect info")}t.infoFlag=5;var o=a.show({title:"Lift select",scope:t,templateUrl:"pop/pop-maininfo.html",buttons:[{text:"<b>Done</b>",type:"button-dark",onTap:function(t){}}]});o.then(function(o){if("heroku"==s.stateW){var n=new Date-e;winston.log("info",t.$storage.userId+", closed liftselect after"+n)}})},t.liftDataRm=function(){return newList},t.changeSort=function(e,o){if(4!=e){if(console.log("reverted",t.liftObjectForSettingsChange["attr"+String(e)],o),t.liftObjectForSettingsChange["attr"+String(e)]==o)return t.liftObjectForSettingsChange["attr"+String(e)]=".",void console.log("revebrted","1"==t.liftObjectForSettingsChange.attr1);t.liftObjectForSettingsChange["attr"+String(e)]=o}else t.liftObjectForSettingsChange.weight=o},t.editSettings=function(e){t.liftForSettingsChange=e,t.liftObjectForSettingsChange=r.getLiftByName(e);var o=a.show({templateUrl:"pop/pop-liftset.html",title:"Settings for lift",scope:t,buttons:[{text:"<b >Done</b>",type:"button-dark",onTap:function(t){}}]});o.then(function(t){})},t.listSort=function(o,n){e.scrollTop(),1==o?t.attr1Pressed=t.attr1Pressed==n?".":n:2==o?t.attr2Pressed=t.attr2Pressed==n?".":n:3==o&&(t.attr3Pressed=t.attr3Pressed==n?".":n),e.scrollTop()},t.filterCustom=function(o){t.reset(),t.liftSelectorState=t.custom?"All Lifts":"User Entered Lifts",o&&!t.custom?t.custom=!t.custom:o||(t.custom=!t.custom),e.scrollTop()},t.reset=function(){t.attr1Pressed=".",t.attr2Pressed=".",t.attr3Pressed=".",t.selected=".",t.custom=!1,t.removeFlagB=!1},t.watch=function(e){t.searchTextC=e},t.$on("reset-liftselect",function(){t.reset()}),t.isSelected=function(e){return t.selected===e},t.removeLiftEntry=function(e){t.removeFlag&&r.removeLiftEntry(e)},t.setLift=function(e,o){return t.removeFlagB?void r.removeLiftEntry(e.name):(t.selected=e,void t.closeModal(e,0,1))},t.backFrom=function(){t.closeModal("no change",0,1)},t.swipeLeftLift=function(){t.closeModal("",0,1)},t.$on("edit-settings",function(e,o){i(function(){t.editSettings(o.name)},500)}),t.goToUrl=function(t,e){var o=t.replace(/ /g,"+"),n="https://www.google.com/search?q="+o,i=window.open(n,"_blank","location=no");i.addEventListener("loaderror",function(t){alert("error: "+t.message),i.close()})},t.addLiftPopup=function(){var e=a.show({template:'<input type="text" ng-model="newLiftName.name" maxlength="30">',title:"Enter new lift name",subTitle:"Press 'View Added' Button to filter to your added lifts",scope:t,buttons:[{text:"Cancel"},{text:"<b>Add</b>",type:"button-dark",onTap:function(e){t.addLiftFlag=!t.addLiftFlag,""==t.newLiftName.name?e.preventDefault():(r.addLiftToList(t.newLiftName.name),t.liftData=n.liftData,t.filterCustom(!0),s.$broadcast("edit-settings",{name:angular.copy(t.newLiftName.name)}),t.newLiftName.name="")}}]});e.then(function(e){t.addLiftFlag=!t.addLiftFlag})}}]);