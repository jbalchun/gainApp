var app=angular.module("MyApp.timercontrol",[]);app.controller("timercontrol",["$scope","$ionicPopup","$timeout","$rootScope",function(e,t,n,r){e.rangeMin=1,e.rangeSec=30,e.startStopFlag=!0,e.timerClear=!0,e.stringMin=String(e.rangeMin),e.stringSec=String(e.rangeSec),e.infoFlag=4,e.$watch("minutes",function(){e.stringMin=String(e.minutes),e.stringMin.length<2&&(e.stringMin="0"+String(e.minutes))}),e.$watch("seconds",function(){e.stringSec=String(e.seconds),e.stringSec.length<2&&(e.stringSec="0"+String(e.seconds))}),e.showInfo=function(){"heroku"==r.stateW&&winston.log("info",e.$storage.userId+", viewed timer info at "+new Date);var n=t.show({title:"Timer",scope:e,templateUrl:"pop/pop-maininfo.html",buttons:[{text:"<b>Done</b>",type:"button-dark",onTap:function(e){}}]});n.then(function(t){"heroku"==r.stateW&&winston.log("info",e.$storage.userId+", closed timer info at "+new Date)})},e.timerPreset=function(t){1==t?(e.rangeMin=0,e.rangeSec=30,e.$broadcast("timer-reset"),e.minutes=0,e.seconds=30,n(function(){e.rangeMin=0,e.rangeSec=30,e.$broadcast("timer-reset"),e.minutes=0,e.seconds=30},5)):2==t?(e.rangeMin=1,e.rangeSec=0,e.$broadcast("timer-reset"),e.minutes=1,e.seconds=0,n(function(){e.rangeMin=1,e.rangeSec=0,e.$broadcast("timer-reset"),e.minutes=1,e.seconds=0},5)):3==t?(e.rangeMin=1,e.rangeSec=30,e.$broadcast("timer-reset"),e.minutes=1,e.seconds=30,n(function(){e.rangeMin=1,e.rangeSec=30,e.$broadcast("timer-reset"),e.minutes=1,e.seconds=30},5)):4==t?(e.rangeMin=2,e.rangeSec=0,e.$broadcast("timer-reset"),e.minutes=2,e.seconds=0,n(function(){e.rangeMin=2,e.rangeSec=0,e.$broadcast("timer-reset"),e.minutes=2,e.seconds=0},5)):5==t?(e.rangeMin=2,e.rangeSec=30,e.$broadcast("timer-reset"),e.minutes=2,e.seconds=30,n(function(){e.rangeMin=2,e.rangeSec=30,e.$broadcast("timer-reset"),e.minutes=2,e.seconds=30},5)):6==t&&(e.rangeMin=3,e.rangeSec=0,e.$broadcast("timer-reset"),e.minutes=3,e.seconds=0,n(function(){e.rangeMin=3,e.rangeSec=0,e.$broadcast("timer-reset"),e.minutes=3,e.seconds=0},5)),e.startStopFlag=!0},e.upOneMin=function(){e.startStopFlag&&e.rangeMin<30&&(e.rangeMin=parseFloat(e.rangeMin)+1,e.$broadcast("timer-reset"),n(function(){e.$broadcast("timer-reset")},5))},e.downOneMin=function(){e.startStopFlag&&(e.rangeMin>0&&(e.rangeMin=parseFloat(e.rangeMin)-1,e.$broadcast("timer-reset")),n(function(){e.$broadcast("timer-reset")},5))},e.upOneSec=function(){e.startStopFlag&&(e.rangeSec<59&&(e.rangeSec=parseFloat(e.rangeSec)+1,e.$broadcast("timer-reset")),n(function(){e.$broadcast("timer-reset")},5))},e.downOneSec=function(){e.startStopFlag&&(e.rangeSec>0&&(e.rangeSec=parseFloat(e.rangeSec)-1,e.$broadcast("timer-reset")),n(function(){e.$broadcast("timer-reset")},5))},e.onRelease=function(){e.startStopFlag&&e.$broadcast("timer-reset")},e.seconds1=function(){return Number(60*e.rangeMin)+Number(e.rangeSec)},e.startStop=function(){e.startStopFlag?e.timerClear?(e.$broadcast("timer-start"),e.timerClear=!1):e.$broadcast("timer-resume"):e.$broadcast("timer-stop"),e.startStopFlag=!e.startStopFlag},e.reset=function(){0==e.timerClear&&(e.$broadcast("timer-reset"),e.minutes=0,e.seconds=0,e.startStopFlag=!0)},e.finished=function(){e.startStopFlag=!0;var n=t.alert({title:"Times up!",template:""});n.then(function(e){})},e.timerToggle=function(){e.$broadcast("timer-stop")}}]);